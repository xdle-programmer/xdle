{"version":3,"sources":["../src/script.js"],"names":["factory","define","amd","exports","module","window","Menu","options","init","event","click","target","isButtonClick","closest","dataset","menuTarget","isMenuClick","menuId","closeAll","activeButtonClass","buttonActiveClass","classList","contains","open","id","$menu","allMenuArray","get","$buttons","Array","from","document","querySelectorAll","menuActiveClass","add","backgroundSelector","$backgrounds","backgroundActiveClass","forEach","$background","$button","$allMenu","remove","Map","set","$openButtons","clickOpenHandler","bind","clickHandler","addEventListener"],"mappings":"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","sourcesContent":["(function (factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define([], factory);\r\n    } else if (typeof exports === \"object\") {\r\n        // Node/CommonJS\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals\r\n        window.Menu = factory();\r\n    }\r\n})(function () {\r\n\r\n    class Menu {\r\n        constructor(options) {\r\n            this.init();\r\n        }\r\n\r\n        init() {\r\n            this.#setup();\r\n        }\r\n\r\n        #setup() {\r\n            this.$allMenu = Array.from(document.querySelectorAll('[data-menu-id]'));\r\n            this.allMenuArray = new Map();\r\n            this.$allMenu.forEach(($menu) => {\r\n                this.allMenuArray.set($menu.dataset.menuId, $menu);\r\n            });\r\n\r\n            this.$openButtons = document.querySelectorAll('[data-menu-target]');\r\n\r\n            this.clickOpenHandler = this.clickOpenHandler.bind(this);\r\n\r\n            this.clickHandler = this.clickHandler.bind(this);\r\n\r\n            this.$openButtons.forEach(($button) => {\r\n                $button.addEventListener('click', this.clickOpenHandler);\r\n            });\r\n\r\n            document.addEventListener('click', this.clickHandler);\r\n        }\r\n\r\n        clickHandler(event) {\r\n            const click = event.target;\r\n\r\n            let isButtonClick = false;\r\n\r\n            if (click.closest('[data-menu-target]') || click.dataset.menuTarget) {\r\n                isButtonClick = true;\r\n            }\r\n\r\n            let isMenuClick = false;\r\n\r\n            if (click.closest('[data-menu-id]') || click.dataset.menuId) {\r\n                isMenuClick = true;\r\n            }\r\n\r\n            if (!isMenuClick && !isButtonClick) {\r\n                this.closeAll();\r\n            }\r\n        }\r\n\r\n        clickOpenHandler(event) {\r\n            let activeButtonClass = event.target.dataset.buttonActiveClass;\r\n\r\n            if (event.target.classList.contains(activeButtonClass)) {\r\n                this.closeAll();\r\n            } else {\r\n                this.closeAll();\r\n                this.open(event.target.dataset.menuTarget);\r\n            }\r\n        }\r\n\r\n        open(id) {\r\n            let $menu = this.allMenuArray.get(id);\r\n            let $buttons = Array.from(document.querySelectorAll('[data-menu-target=\"' + id + '\"]'));\r\n            let menuActiveClass = $menu.dataset.menuActiveClass;\r\n            $menu.classList.add(menuActiveClass);\r\n\r\n            if ($menu.dataset.backgroundSelector) {\r\n                let $backgrounds = Array.from(document.querySelectorAll($menu.dataset.backgroundSelector));\r\n                let backgroundActiveClass = $menu.dataset.backgroundActiveClass;\r\n\r\n                $backgrounds.forEach(($background) => {\r\n                    $background.classList.add(backgroundActiveClass);\r\n                });\r\n            }\r\n\r\n            $buttons.forEach(($button) => {\r\n                let buttonActiveClass = $button.dataset.buttonActiveClass;\r\n                $button.classList.add(buttonActiveClass);\r\n            });\r\n        }\r\n\r\n        closeAll() {\r\n            this.$allMenu.forEach(($menu) => {\r\n                let menuActiveClass = $menu.dataset.menuActiveClass;\r\n                let id = $menu.dataset.menuId;\r\n                $menu.classList.remove(menuActiveClass);\r\n                let $buttons = Array.from(document.querySelectorAll('[data-menu-target=\"' + id + '\"]'));\r\n\r\n                if ($menu.dataset.backgroundSelector) {\r\n                    let $backgrounds = Array.from(document.querySelectorAll($menu.dataset.backgroundSelector));\r\n                    let backgroundActiveClass = $menu.dataset.backgroundActiveClass;\r\n\r\n                    $backgrounds.forEach(($background) => {\r\n                        $background.classList.remove(backgroundActiveClass);\r\n                    });\r\n                }\r\n\r\n                $buttons.forEach(($button) => {\r\n                    let buttonActiveClass = $button.dataset.buttonActiveClass;\r\n                    $button.classList.remove(buttonActiveClass);\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    return Menu;\r\n});\r\n"],"file":"script.js"}