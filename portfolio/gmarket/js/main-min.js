function isNoTarget(e,t,o){function i(){$(document).off("click",n)}var n=function(n){if((!$(n.target).closest(e)[0]||$(n.target).closest(o)[0])&&(i(),t))return t()};return $(document).on("click",n),{reset:i}}$(document).ready(function(){var e=function(){$(".product-slider__main-block").slick({arrows:!1,slidesToShow:1,fade:!0,slidesToScroll:1,dots:!0,asNavFor:".product-slider__controls-slider",customPaging:function(){return null},responsive:[{breakpoint:1040,settings:{dots:!1}}]}),$(".product-slider__controls-slider").slick({arrows:!1,slidesToShow:3,vertical:!0,slidesToScroll:1,swipeToSlide:!0,focusOnSelect:!0,asNavFor:".product-slider__main-block",verticalSwiping:!0,responsive:[{breakpoint:1040,settings:{vertical:!1,verticalSwiping:!1}}]}),$(".related-slider").slick({arrows:!0,slidesToShow:6,slidesToScroll:1,swipeToSlide:!0,prevArrow:'<div class="slick-arrow slick-arrow_round slick-arrow_prev"></div>',nextArrow:'<div class="slick-arrow slick-arrow_round slick-arrow_next"></div>',dots:!0,customPaging:function(){return null},responsive:[{breakpoint:1220,settings:{slidesToShow:5}},{breakpoint:1020,settings:{slidesToShow:4}},{breakpoint:820,settings:{slidesToShow:3}},{breakpoint:650,settings:{slidesToShow:3,variableWidth:!0,arrows:!1}}]});var e=$(".card-slider"),t=($(".tab-nav"),function(){if(e.hasClass("slick-initialized"))e.hasClass("slick-initialized")&&window.matchMedia("(max-width:650px)").matches&&e.slick("unslick");else{var t,o={arrows:!0,slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,prevArrow:'<div class="slick-arrow slick-arrow_prev"></div>',nextArrow:'<div class="slick-arrow slick-arrow_next"></div>',dots:!0,customPaging:function(){return null},responsive:[{breakpoint:1190,settings:{slidesToShow:3}},{breakpoint:930,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:3,variableWidth:!0,arrows:!1,centerMode:!0}}]},i={arrows:!0,slidesToShow:4,slidesToScroll:1,swipeToSlide:!0,prevArrow:'<div class="slick-arrow slick-arrow_prev"></div>',nextArrow:'<div class="slick-arrow slick-arrow_next"></div>',responsive:[{breakpoint:1190,settings:{slidesToShow:3}},{breakpoint:930,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1,arrows:!1,variableWidth:!0}}]};e.each(function(){$(this).hasClass("slick-initialized")||($(this).hasClass("card-slider_start-quater")?t=i:$(this).hasClass("card-slider_start-third")&&(t=o),e.slick(t))})}});return t(),{reinit:t}}();(function(){var o;$(window).on("resize",function(){o&&clearTimeout(o),o=setTimeout(function(){e.reinit(),t.resize(),sideMenu.resize(),hintModal.calcPosition()},500)})})(),$(".quick-view__view-slider").slick({arrows:!0,slidesToShow:1,slidesToScroll:1,prevArrow:'<div class="slick-arrow quick-view__arrow slick-arrow_round slick-arrow_prev"></div>',nextArrow:'<div class="slick-arrow quick-view__arrow slick-arrow_round slick-arrow_next"></div>',dots:!0,customPaging:function(){return null}});$(".acordeon").acordeon({handle:".acordeon__handle",list:".acordeon__content",connected:$(".acordeon").data("connected")});var t=function(){function e(){window.matchMedia("(max-width:1000px)").matches&&!o?(t.acordeon({handle:".nav-list__title",list:".nav-list__content"}),o=!0):window.matchMedia("(min-width:1000px)").matches&&o&&(t.acordeon("destroy"),o=!1)}$(".nav-list__title");var t=$(".nav-list"),o=!1;$(".nav-list__content");return e(),{resize:e}}(),o=(function(){var e=$(".main-list__cat-row"),t=!0;$(".catalog-menu__main-list").menuAim({activate:function(e){$(e).addClass("main-list__cat-row_on-hover")},deactivate:function(e){$(e).removeClass("main-list__cat-row_on-hover")},enter:function(e){t&&($(e).addClass("main-list__cat-row_on-hover"),t=!1)},exitMenu:function(){e.removeClass("main-list__cat-row_on-hover"),t=!0},rowSelector:e})}(),this.scrollTrack=function(){function e(){t[0].matchMedia("(max-width:1230px)").matches&&o>n?i.addClass("head-pannel_active"):i.removeClass("head-pannel_active")}var t=$(window),o=t[0].pageYOffset||document.documentElement.scrollTop,i=$(".head-pannel"),n=$(".header").outerHeight();return t.on("scroll",function(){o=t[0].pageYOffset||document.documentElement.scrollTop,e(),loader.loaderPosition(o),comparePage.fixPannel(o)}),e(),{scrolled:o,go:function(e,o){if(e){var n=$("html, body"),s=i.outerHeight()||0,a=o||0,l=e.offset().top-a;t[0].matchMedia("(max-width:1230px)").matches&&(l-=s),n.animate({scrollTop:l},1e3)}}}}()),i=($(".js-open-side-menu, [data-menu]").click(function(){var e=$(this).data("menu");"menu-mobile"==e?menuToggle.openSideMenu("menu-mobile",!0):menuToggle.openSideMenu(e)}),$(".js-mob-search").click(function(e){e.stopPropagation(),$(".search-mobile").toggleClass("search-mobile_active"),$("body").toggleClass("stop-scroll"),isNoTarget($(".search-mobile"),function(){$(".search-mobile").removeClass("search-mobile_active")},$(this))}),$(".catalog-menu__head").click(function(){var e=$(".catalog-menu"),t=$(".catalog-menu__main-list");e.hasClass("catalog-menu_unwraped")||(e.addClass("catalog-menu_active"),t.slideDown(200,function(){isNoTarget(t,function(){t.slideUp(200),e.removeClass("catalog-menu_active")})}))}),$(".filter-section__title").click(function(){$(this).closest(".filter-section").toggleClass("filter-section_wrapped").find(".filter-section__content").slideToggle(200)}),$(".filter-section__content").acordeon({handle:".js-hidden-filter",list:".filter-section__hidden",connected:!1}),sideFilter.init(),$(document).on("click",".toggle-text__handle",function(){return $(this).closest(".toggle-text").toggleClass("toggle-text__shown"),!1}).on("click","[data-popup]",function(e){e.preventDefault(),popuper.open($(this).data("popup"))}).on("click","[data-popup-info]",function(e){e.preventDefault(),popuper.info($(this).data("popup-info"))}).on("click",".input-clear",function(){$(this).parent().find("input").val(null)}),comparePage.init(),hintModal.init(),function(){var e=$(".form-tab"),t=function(t,o){e.css("display","none").eq(t).css("display","block"),o||$(".js-tab-switch").eq(t).find("input").prop("checked","true")};return $(".js-tab-switch input").change(function(){var e=$(this).closest(".checkbox").index();t(e,!0),location.hash="formSwitch&="+e}),{showTab:t}}());(function(){var e=location.hash.split("&=")[0].replace("#",""),t=location.hash.split("&=")[1];reactTypes={formSwitch:function(){i.showTab(t)},acordeon:function(){var e=$("#"+t);e[0]&&(e.acordeon("open"),o.go(e,10))}},e&&reactTypes[e]()})(),function(){var e=$(".video-block");e.each(function(){$(this).css({"background-image":"url(https://img.youtube.com/vi/"+$(this).data("video")+"/0.jpg)"})}),e.click(function(){!function(e){if(!e.hasClass("video-item_loaded")){e.addClass("video-item_loaded");var t=document.createElement("iframe"),o={src:"https://www.youtube.com/embed/"+e.data("video")+"?autoplay=1",id:"ytplayer",allowfullscreen:"1"};for(var i in o)t.setAttribute(i,o[i]);e.append(t)}}($(this))})}();$(document).on("change input","[data-validation]",function(){validation.isValid($(this))}).on("click keydown input",'[data-validation="code"]',function(e){validation.codeControl(e,$(this))});!function(){var e=$(".js-memory-form").find('input[type="text"]'),t=sessionStorage.formMemory;e.on("input",function(){var t=[];e.each(function(){t.push($(this).val())}),sessionStorage.formMemory=t}),t&&e.each(function(e){var o=t.split(",")[e];o&&$(this).val(o).change()})}()});var menuToggle=function(){function e(){o.removeClass(),"menu-mobile"==t&&sideMenu.clear()}var t,o=$("body");return{openSideMenu:function(i,n){o.hasClass("show-side-menu")||(o.addClass("show-side-menu active-"+i),t=i,setTimeout(function(){isNoTarget($("."+i),function(){e()},$(".js-close-side-menu"))},100),n&&sideMenu.init())},closeSideMenu:e}}(),sideMenu=function(){function e(){if(!s.hasClass("inited")){for(var e=a.length-1;e>=0;e--){var o=a.eq(e).parents(".menu-section").length;o>c&&(c=o)}s.addClass("inited").css("width",(c+1)*r+10+"px")}i.click(function(e){e.preventDefault(),$(this).closest(a).prop("scrollTop",0),t($(this).next(),"forward")}),n.click(function(){t($(this).parents(".menu-section").eq(1),!1)})}function t(e,t){var o=e.parents(".menu-section").length;t?e.css({height:l,top:-1*e.closest(".menu-row").offset().top+"px",display:"block",overflow:"auto"}).parents(".menu-section").css({height:"auto",overflow:"visible"}):e.css({height:l,overflow:"auto"}).find(".menu-section").css({top:"",display:"none"}),s.css({transform:"translateX("+-r*o+"px)"})}function o(){t(a.eq(0),!1),n.add(i).off("click")}var i=$(".menu-row_has-drop > .menu-row__inner"),n=$(".menu-row__inner_go-back"),s=$(".menu-mobile__area"),a=$(".menu-section"),l=$(".menu-mobile").outerHeight(),r=$(".menu-mobile").outerWidth(),c=0;return{clear:o,init:e,resize:function(){window.matchMedia("(max-width: 1230px)").matches&&(l=$(".menu-mobile").outerHeight(),r=$(".menu-mobile").outerWidth(),s.removeClass("inited"),o(),e())}}}(),validation=function(){var e,t,o,i=function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)},n=function(){function t(t){e.mask(i[t]),e[0].phoneType=t,e.is(":focus")&&l(e,e.val().length)}var i=["+7(000)000-00-00","8(000)000-00-00"];if(o.length>0)return t("+"==o[0]||"7"==o[0]?0:1),e.val().length==i[e[0].phoneType].length;e.unmask()},s=function(e){function t(t,o){t?e.find(o).addClass("step-check"):e.find(o).removeClass("step-check")}t(o.length>=5,".password-steps_length"),t(/[A-Z]/.test(o),".password-steps_upper-letter"),t(/[a-z]/.test(o),".password-steps_lower-letter"),t(/\d/.test(o),".password-steps_num")},a=function(a){e=$(a),t=e.closest(".regular-input"),o=e.val();e.attr("type");var l=!1;switch(e.data("validation")){case"phone":l=n();break;case"email":l=i();break;case"password":l=function(){var i,n=e.closest("form").find('input[type="password"]');if(n.each(function(t,o){e.is(o)&&(i=t)}),i&&o===n.first().val()&&n.first().hasClass("filled"))return!0;if(!i){var a=t.find(".password-hint");return a[0]&&s(a),/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d!"#$%&'()*+,-.\\/:;<=>?@[\]^_`{|}~]{5,}$/.test(o)}return!1}();break;case"login":l=function(t){if(o.length<1&&e.unmask(),!e.is(":focus")){if(i())return!0;if(/[+7-8]/.test(o[0])&&!/\@/.test(o)&&n())return!0}return!1}();break;case"text":l=o.length>0;break;case"check":l=e.prop("checked");break;case"code":l=e[0].actualValue.length==e.attr("maxlength");break;default:return!1}return l?(e.addClass("filled").removeClass("valid-error"),t.removeClass("regular-input_error").addClass("regular-input_filled")):(e.addClass("valid-error").removeClass("filled"),t.addClass("regular-input_error").removeClass("regular-input_filled")),l},l=function(e,t){var o=$(e)[0];if(null!=o)if(o.createTextRange){var i=o.createTextRange();i.move("character",t),i.select()}else o.selectionStart?(o.focus(),o.setSelectionRange(t,t)):o.focus()};return{isValid:function(e,t){var o=$(e);return void 0==t&&(t=!0),!!o[0]&&(o.is("input")||o.is("textarea")?a(o):!!o.is("form")&&function(e,t){var i=!0;return o.find("[data-validation]").each(function(){a($(this))||(i=!1)}),!t||i||$("body").hasClass("stop-scroll")||$(".valid-error").each(function(){return $(this).is(":visible")?(document.scrollTrack.go($(this),35),!1):$(this).is('[type="checkbox"]')?(document.scrollTrack.go($(this).closest("label"),35),!1):void 0}),i}(0,t))},codeControl:function(e,t){var o=t,i=o.val(),n=o.attr("maxlength");o[0].actualValue=i.split("–").join("");for(var s=o[0].actualValue;s.length<n;)s+="–";"keydown"==e.type?o.val(o[0].actualValue):"input"==e.type?o.val(s):"click"==e.type&&(l(o,0),o.val(null)),l(o,o[0].actualValue.length),o[0].actualValue.length==n&&o.blur()}}}(),loader=function(){var e,t,o=!1,i=$('<div class="loader"></div>'),n=function(n){if(o){var s=t/2+n-e.offset().top;s>50&&s<e.outerHeight()-50&&i.css({"background-position":"center "+s+"px"})}};return{init:function(s){(e=$(s)).addClass("in-load").append(i),t=$(window).height(),e.outerHeight()>t&&(o=!0,n($(window).pageYOffset||document.documentElement.scrollTop))},loaderPosition:n,destroy:function(t){t?$(t).removeClass("in-load").find(i).remove():e&&e.removeClass("in-load").find(i).remove(),o=!1}}}(),popuper=function(){var e=!1,t=function(t,i){var n=$(".popup."+t);e||i?(o(!0),n.css("display","block")):(o(),n.fadeIn(200)),$("body").addClass("stop-scroll"),e=!0,isNoTarget($(".popup__block"),function(){o()},$(".js-close-popup"))},o=function(t){$("body").removeClass("stop-scroll"),t?$(".popup").css("display","none"):$(".popup").fadeOut(200),e=!1};return{open:t,close:o,info:function(e){t("popup_info"),$(".popup_info").find(".popup__info-msg").text(e)}}}();!function(e){e.fn.acordeon=function(t){var o,i=function(t,o){var i=this,n=e(t),s=e("."+e(t).attr("class")),a=e(t).find(o.handle),l=e(o.list),r=!0,c=function(){n.hasClass("list-active")?i.close():(r&&d(),i.open())},d=function(){s.removeClass("list-active"),l.slideUp(200)};void 0!=o.connected&&(r=o.connected),i.open=function(){n.addClass("list-active").find(l).slideDown(200)},i.close=function(){n.removeClass("list-active").find(l).slideUp(200)},i.destroy=function(){a.off("click",c),n.removeClass("acc-inited list-active"),l.fadeIn(50)},l.css("display","none"),n.addClass("acc-inited"),a.on("click",c)},n=this,s=n.length;for(o=0;o<s;o++)"object"==typeof t?n[o].acordeon=new i(n[o],t):n[o].acordeon[t]()}}(jQuery);var test=[{cityCoords:"56.85237874030841,53.20274949999994",objs:[{coords:"56.876112067836935, 53.29310249999993",info:"<h1>Москва Щербаковская_9948_С </h1> 105318, г.Москва м.Семёновская, ул.Щербаковская, д.7 Время работы: пн-вс: 09.00-22.00",options:{value:"pvz"}},{coords:"56.82827106789506, 53.13368699999995",info:"<h1>Пвз2</h1>  Ижевск  Клубная ул  д.67 Режим работы: пн-пт:10.00-19.30",options:{value:"pvz"}},{coords:"56.82285806788111, 53.20870549999993",info:"<h1>Москва Щербаковская_9948_С </h1> 123",options:{value:"pvz"}}]}],pvzMap=function(){function e(){if($(".map-place")[0]){if(!a.adress)return n.addClass("valid-error"),!1;n.removeClass("valid-error")}return!0}function t(){n.addClass("map-wrapped").removeClass("map-unwrapped")}function o(o){a=o,t(),n.addClass("pvz-selected"),function(e){$("#pvz-info").html(e)}(o.info),e(),i.balloon.close(),"function"==typeof s&&s(o)}var i,n,s,a={};return{init:function(e){n=$(".map-module"),$(".js-map-unwrap").click(function(){n.removeClass("map-wrapped").addClass("map-unwrapped"),i.container.fitToViewport()}),$(".js-close-map").click(function(){t()}),a&&a.info&&o(a);var s=e[0];ymaps.ready(function(){if(n[0]&&!n.hasClass("map-init")){n.addClass("map-init"),i=new ymaps.Map("delivery-map",{center:[+s.cityCoords.split(",")[0],+s.cityCoords.split(",")[1]],zoom:12,controls:["zoomControl"]});for(var e={balloonLayout:function(t){return ymaps.templateLayoutFactory.createClass('<div class="custom-baloon"><div class="custom-baloon__close-button"><i class="fa fa-times" aria-hidden="true"></i></div>$[[options.contentLayout]]<div class="button custom-baloon__button js-choose-pvz" onclick="window.DPD.Pickup.selectPoint('+t.options+')"  data-options="'+t.options+'">Выбрать</div><div class="custom-baloon__arrow"></div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".custom-baloon",this.getParentElement()),this.applyElementOffset(),this._$element.find(".custom-baloon__close-button").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".custom-baloon__close-button").off("click"),this.constructor.superclass.clear.call(this)},onSublayoutSizeChange:function(){e.balloonLayout().superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2,top:-(this._$element[0].offsetHeight+this._$element.find(".custom-baloon__arrow")[0].offsetHeight)})},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},getShape:function(){if(!this._isElement(this._$element))return e.balloonLayout().superclass.getShape.call(this);var t=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[t.left,t.top],[t.left+this._$element[0].offsetWidth,t.top+this._$element[0].offsetHeight+this._$element.find(".custom-baloon__arrow")[0].offsetHeight]]))},_isElement:function(e){return e&&e[0]&&e.find(".custom-baloon__arrow")[0]}})},balloonContentLayout:ymaps.templateLayoutFactory.createClass('<div class="custom-baloon__content">$[properties.balloonContent]</div>'),placemarkLayout:ymaps.templateLayoutFactory.createClass('<svg class="ymaps-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 33.33h26.667V0H0z"/></defs><g transform="matrix(1 0 0 -1 0 33.33)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)"><path d="M13.333 14.664a5.334 5.334 0 1 0 0 10.667 5.334 5.334 0 0 0 0-10.667m0 18.667C5.972 33.33 0 27.36 0 19.997 0 8 10.667 0 13.333 0c2.667 0 13.334 8 13.334 19.998 0 7.364-5.972 13.334-13.334 13.334" fill="#ff5859" fill-rule="nonzero"/></g></g></svg>')},t=new ymaps.GeoObjectCollection({}),a=s.objs.length-1;a>=0;a--){var l=s.objs[a],r=[+l.coords.split(",")[0],+l.coords.split(",")[1]];marker=new ymaps.Placemark(r,{balloonContent:l.info},{iconLayout:e.placemarkLayout,iconShape:{type:"Rectangle",coordinates:[[0,0],[28,38]]},balloonLayout:e.balloonLayout({options:JSON.stringify(l.options).split('"').join("'")}),balloonContentLayout:e.balloonContentLayout,balloonPanelMaxMapArea:0,balloonAutoPan:!0,balloonOffset:[0,100]}),t.add(marker)}i.geoObjects.add(t),n.on("click",".js-choose-pvz",function(){o({info:$(this).closest(".custom-baloon").find(".custom-baloon__content").html(),options:JSON.parse($(this).data("options").split("'").join('"'))})})}})},validate:e,select:function(e){s=e}}}(),comparePage=function(){var e,t,o,i,n,s,a=function(e){e&&e[0]?e.each(function(){var e=$(this).find(i),t=$(this).find(s);e.length>0&&!t[0].sliderInited?l(t):0===e.length&&(e.add($(this).find(o)).addClass("half-wrap"),t[0].sliderInited&&(t.slick("unslick").slick("destroy"),t[0].sliderInited=!1))}):t.each(function(){a($(this))})},l=function(e){var o=e.closest(t);e.slick({arrows:!0,infinite:!1,slidesToShow:3,slidesToScroll:1,prevArrow:'<div class="slick-arrow compare-arrow slick-arrow_prev"></div>',nextArrow:'<div class="slick-arrow compare-arrow slick-arrow_next"></div>',responsive:[{breakpoint:890,settings:{slidesToShow:2}}]}).on("afterChange",function(e,t,i){r(o)}),e[0].sliderInited=!0,r(o)},r=function(e){if(e&&e[0]){var n=e.find(o),a=e.find(s),l=e.find(i);n.removeClass("compare-table__cell_hidden"),a[0].sliderInited&&l.each(function(t){$(this).is(".slick-active")||e.find(".compare-table__cell:nth-child("+(t+1)+")").addClass("compare-table__cell_hidden")})}else t.each(function(){r($(this))})},c=function(){e.each(function(){var e=[];$(this).find(o).each(function(){$(this).text()||$(this).text("—"),e.push($(this).text())}),e.every(function(t){return t===e[0]})||$(this).addClass("compare-table__row_highlight")})};return{init:function(){t=$(".js-compare-module"),e=$(".compare-table__row"),o=$(".compare-table__cell"),i=$(".compare-slider__slide"),n=$(".compare-products:visible"),s=$(".compare-slider"),c(),a()},delete:function(e){var n=$(e),l=n.index(),c=n.closest(t),d=c.find(s);c.find(".compare-table__cell:nth-child("+(l+1)+")").remove(),d[0].sliderInited&&d.slick("slickRemove",l),n.remove(),i=$(".compare-slider__slide"),o=$(".compare-table__cell"),a(),r(c)},check:r,fixPannel:function(e){n&&n[0]&&(n.offset().top+n.outerHeight()-60<=e?n.addClass("compare-products_fixed"):n.removeClass("compare-products_fixed"))},sliderFix:function(){s.slick("setPosition"),n=$(".compare-products:visible")}}}(),hintModal=function(){var e,t,o,i=function(e){$(".hint-mark_opened").each(function(){var e=$(this).find(".hint-mark__modal"),t=$(this).offsetParent(),i=$(window).outerWidth();e.outerWidth()+40>i?e.css({width:i-40+"px","margin-left":(i-40)/2*-1+"px"}):e.css({width:null,"margin-left":null});var n=t.offset().left+20-e.offset().left;n>0&&e.css({transform:"translateX("+n+"px)"}).find(o).css({transform:"translateX("+-1*n+"px) rotate(-45deg)"})})},n=function(e){e.addClass("hint-mark_opened"),i(),isNoTarget(e,function(){s()},$(".hint-mark__close"))},s=function(){e.removeClass("hint-mark_opened")};return{init:function(){e=$(".hint-mark"),t=e.find(".hint-mark__modal"),o=$(".hint-mark__tail"),$(".hint-mark__icon").click(function(){n($(this).closest(e))})},calcPosition:i}}(),sideFilter=function(){var e,t,o,i,n,s,a,l=function(e){s=e.offset().top-i.offset().top-o/2+e.outerHeight()/2},r=function(){t.removeClass("float-button_shown")},c=function(e){clearTimeout(a),r(),t.addClass("float-button_shown").css({top:s+"px"}),e&&(a=setTimeout(function(){r()},e))};return{init:function(){if(window.matchMedia("(max-width:1230px)").matches)return!1;i=$(".js-float-button-show"),e=i.find(".checkbox__hidden-input"),t=$(".float-button"),o=t.outerHeight(),n=t.data("timer"),$(document).on("change",".js-float-button-show .checkbox__hidden-input",function(){l($(this).closest(".filter-section__check-line")),c(n)}).on("click",".float-button__close",function(){r()})},showButton:c,hideButton:r}}();