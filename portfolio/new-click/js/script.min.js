$(document).ready(function(){var s=$("html, body");if(767<$(window).width()){var e=$(".video-section"),i=e.data("video");$("div.video-section__background-video").remove(),$('<video class="video-section__background-video" muted loop><source src="'+i+'" type="video/mp4"></video>').prependTo(e),$(".video-section__background-video")[0].play()}$(".animation-scroll").click(function(){if(!0===$(this).hasClass("scroll-top"))$(".header").removeClass("header--scroll"),s.animate({scrollTop:0},500);else{var i=$(this).data("scroll-goal");$(".header").removeClass("header--open"),$(".header").addClass("header--scroll"),setTimeout(function(){var e;e=$(".header").height(),s.animate({scrollTop:$(i).offset().top-e},500)},250)}});var t=$(window).height(),a=$(window).scrollTop();function o(){0<$(window).scrollTop()?!1===$(".header").hasClass("header--scroll")&&$(".header").addClass("header--scroll"):$(".header").removeClass("header--scroll")}$(window).height()>$(window).width()&&$("body").addClass("vertical"),o(),$(".header__mobile-button").on("click",function(){$(".header").toggleClass("header--open")}),$(window).scroll(function(){o(),a=$(window).scrollTop(),$(".header").removeClass("header--open"),!1===$(".modal__background").hasClass("active")&&$(".modal__block").css("top",a+t/2+"px")}),$(window).resize(function(){t=$(window).height()}),$(".step__item").on("mouseover",function(){var e=$(".step"),i="step--"+$(this).attr("class").split("--")[1];!1===e.hasClass(i)&&(e.removeClass("step--analytics"),e.removeClass("step--design"),e.removeClass("step--coding"),e.removeClass("step--programming"),e.removeClass("step--advertising"),e.removeClass("step--a-b-testing"),e.addClass(i))});var r=$(".what-we-do__slider"),n=$(".what-we-do__slider-nav-button--prev"),d=$(".what-we-do__slider-nav-button--next");r.owlCarousel({loop:!0,margin:0,nav:!1,dots:!1,items:1,mouseDrag:!1}),d.on("click",function(){$(".owl-item.active .what-we-do__slider-item-block").addClass("animation-exit"),setTimeout(function(){r.trigger("next.owl.carousel",[0]),$(".what-we-do__slider-item-block").removeClass("animation-exit")},1e3)}),n.on("click",function(){$(".owl-item.active .what-we-do__slider-item-block").addClass("animation-exit"),setTimeout(function(){r.trigger("prev.owl.carousel",[0]),$(".what-we-do__slider-item-block").removeClass("animation-exit")},1e3)});var l=$(".reviews__slider");l.owlCarousel({loop:!0,dots:!1,mouseDrag:!1,responsive:{0:{items:1,nav:!1,startPosition:1},768:{items:1,nav:!0,startPosition:1},1024:{items:3,nav:!0,startPosition:0}}}),l.on("changed.owl.carousel",function(e){if(1023<$(window).width()){var i=e.item.index;$(".reviews__slider-item").removeClass("active"),$(".reviews__slider-item").removeClass("first-slide"),$(".reviews__slider-item").removeClass("last-slide"),$(".reviews__slider").find(".owl-item").eq(i).find(".reviews__slider-item").addClass("first-slide"),$(".reviews__slider").find(".owl-item").eq(i+1).find(".reviews__slider-item").addClass("active");var s=$(".reviews__slider").find(".owl-item").eq(i+1).find(".reviews__slider-item").data("goal-desc");$(".reviews__desc").removeClass("active"),$(s).addClass("active"),$(".reviews__slider").find(".owl-item").eq(i+2).find(".reviews__slider-item").addClass("last-slide"),$(".reviews__elem").each(function(){var e=$(this).css("transform");if("none"!==e){var i=e.split("(")[1].split(")")[0].split(","),s=i[0],t=i[1];Math.round(Math.atan2(t,s)*(180/Math.PI))}else;})}else{i=e.item.index;$(".reviews__slider-item").removeClass("active"),$(".reviews__slider-item").removeClass("first-slide"),$(".reviews__slider-item").removeClass("last-slide"),$(".reviews__slider").find(".owl-item").eq(i+0).find(".reviews__slider-item").addClass("active");s=$(".reviews__slider").find(".owl-item").eq(i+0).find(".reviews__slider-item").data("goal-desc");$(".reviews__desc").removeClass("active"),$(s).addClass("active"),$(".reviews__elem").each(function(){var e=$(this).css("transform");if("none"!==e){var i=e.split("(")[1].split(")")[0].split(","),s=i[0],t=i[1];Math.round(Math.atan2(t,s)*(180/Math.PI))}else;})}}),$(".faq__item-name").on("click",function(){!0===$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent().find(".faq__item-text").removeClass("active")):($(this).addClass("active"),$(this).parent().find(".faq__item-text").addClass("active"))}),$(".quiz__start-button").click(function(){!function(e){var i=0,s=1e3,t=$(e).parents(".quiz"),a=t.find(".quiz__question-block"),o=t.find(".quiz__step.question"),r=t.find(".quiz__question-header-steps span"),n=t.find(".quiz__question-header-sale span"),d=t.find(".quiz__question-header-line-progress"),l=t.find(".quiz__button-next"),c=t.find(".quiz__button-prev"),u=t.find(".quiz__button-finish"),_="";function v(){i===o.length-1&&(l.removeClass("active"),u.addClass("active"),o.each(function(){var e=$(this).find(".quiz__step-image-select-item.active .quiz__step-image-select-item-name").text(),i=$(this).find(".quiz__radio-button-input:checked + .quiz__radio-button-label").text(),s=$(this).find(".quiz__step-input[type=text]").val();""!==e&&"undefined"!==jQuery.type(e)&&(_=_+"<br>"+$(this).find(".quiz__step-name").text()+" "+e+" <br>"),""!==i&&"undefined"!==jQuery.type(i)&&(_=_+"<br>"+$(this).find(".quiz__step-name").text()+" "+i+" <br>"),""!==s&&"undefined"!==jQuery.type(s)&&(_=_+"<br>"+$(this).find(".quiz__step-name").text()+" "+s+" <br>")}),$(".quiz__step-input-answers").val(_)),i===o.length||(o.removeClass("active"),o.eq(i).addClass("active"),i+=1,r.text(i),n.spincrement({from:parseInt((i-1)*s),to:parseInt(i*s),thousandSeparator:"",duration:300,easing:"spincrementEasing"}),d.css("width",100/o.length*i+"%"))}t.find(".quiz__question-buttons, .quiz__question-header").addClass("active"),t.find(".quiz__step").removeClass("active"),o.eq(i).addClass("active"),a.addClass("active"),i+=1,n.spincrement({from:0,to:s,thousandSeparator:"",duration:300,easing:"spincrementEasing"}),l.click(function(){v()}),c.click(function(){if(1===i)return t.find(".quiz__question-buttons, .quiz__question-header").removeClass("active"),o.removeClass("active"),t.find(".quiz__step--start").addClass("active"),void a.removeClass("active");o.removeClass("active"),o.eq(i-2).addClass("active"),i-=1,r.text(i),n.spincrement({from:parseInt((i+1)*s),to:parseInt(i*s),thousandSeparator:"",duration:300,easing:"spincrementEasing"}),d.css("width",100/o.length*i+"%"),i===o.length-1&&(l.addClass("active"),u.removeClass("active"))}),$(".quiz__step-image-select-item").click(function(){$(this).parents(".quiz__step.question").find(".quiz__step-image-select-item").removeClass("active"),$(this).addClass("active"),v()}),$(".quiz__radio-button-label").click(function(){v()})}(this)}),$("body").click(function(){$(".quiz__popup").removeClass("active")}),$("input[type=tel]").inputmask("+7 (999) 999-99-99"),$(".open-modal").on("click",function(){$(".modal__background").addClass("active"),$(".modal__block").removeClass("active");var e=$(this).data("modal");$(e).addClass("active"),$(".modal__block").css("top",a+t/2+"px")}),$(".modal__close, .modal__background").on("click",function(){$(".modal__background").removeClass("active"),$(".modal__block").removeClass("active"),$(".modal__block").css("top","auto"),$(".modal__content--youtube iframe").attr("src","")}),$(".youtube-modal").on("click",function(){var e=$(this).data("youtube");$(".modal__content--youtube iframe").attr("src",e)}),$(".review-modal").on("click",function(){var e=$(this).data("review-doc");$(".modal__review-item").css("background","url("+e+")")}),$(".rates__item-button").on("click",function(){var e=$(this).data("title");$("#modal-rates").find(".modal__title").text(e),$('input[name="rates"]').val(e)}),$(".what-we-do__slider-button").on("click",function(){var e=$(this).closest(".what-we-do__slider-desc").find(".what-we-do__slider-title").text();$('input[name="what-we-do"]').val(e)}),$(".modal__form-lead--main-modal").submit(function(e){e.preventDefault();var i=$(this),s=i.find(".required-input"),t=i.find(".required-phone"),a=i.find(".required-checkbox"),o=!0;t.each(function(){$(this).removeClass("error"),null===$(this).val().match(/[0-9]/g)?($(this).addClass("error"),o=!1):11!==$(this).val().match(/[0-9]/g).length&&($(this).addClass("error"),o=!1)}),s.each(function(){$(this).removeClass("error"),$(this).val().length<1&&($(this).addClass("error"),o=!1)}),a.each(function(){$(this).removeClass("error"),!1===$(this).is(":checked")&&($(this).addClass("error"),o=!1)}),!0===o&&$.post("send.php",i.serialize(),function(e){i.closest(".modal__block").removeClass("active"),$("#modal-thank-you").addClass("active")})}),$(".modal__form-lead--rates-form").submit(function(e){e.preventDefault();var i=$(this),s=i.find(".required-input"),t=i.find(".required-phone"),a=i.find(".required-checkbox"),o=!0;t.each(function(){$(this).removeClass("error"),null===$(this).val().match(/[0-9]/g)?($(this).addClass("error"),o=!1):11!==$(this).val().match(/[0-9]/g).length&&($(this).addClass("error"),o=!1)}),s.each(function(){$(this).removeClass("error"),$(this).val().length<1&&($(this).addClass("error"),o=!1)}),a.each(function(){$(this).removeClass("error"),!1===$(this).is(":checked")&&($(this).addClass("error"),o=!1)}),!0===o&&$.post("send_rates.php",i.serialize(),function(e){i.closest(".modal__block").removeClass("active"),$("#modal-thank-you").addClass("active")})}),$(".modal__form-lead--what-we-do").submit(function(e){e.preventDefault();var i=$(this),s=i.find(".required-input"),t=i.find(".required-phone"),a=i.find(".required-checkbox"),o=!0;t.each(function(){$(this).removeClass("error"),null===$(this).val().match(/[0-9]/g)?($(this).addClass("error"),o=!1):11!==$(this).val().match(/[0-9]/g).length&&($(this).addClass("error"),o=!1)}),s.each(function(){$(this).removeClass("error"),$(this).val().length<1&&($(this).addClass("error"),o=!1)}),a.each(function(){$(this).removeClass("error"),!1===$(this).is(":checked")&&($(this).addClass("error"),o=!1)}),!0===o&&$.post("send_what-we-do.php",i.serialize(),function(e){i.closest(".modal__block").removeClass("active"),$("#modal-thank-you").addClass("active")})}),$(".quiz__question-block").submit(function(e){e.preventDefault();var i=$(this),s=$(".quiz__question-block");$(".quiz__question-block .quiz__step-input--phone").val().length<10?$(".quiz__question-block .quiz__step-input--phone").addClass("error"):$.post("send_quiz.php",i.serialize(),function(e){s.parents(".quiz").find(".quiz__popup").addClass("active"),s.find(".quiz__question-buttons, .quiz__question-header").removeClass("active"),s.find(".quiz__step.question").removeClass("active"),s.parents(".quiz").find(".quiz__step--start").addClass("active"),s.find(".quiz__button-next").addClass("active"),s.find(".quiz__button-finish").removeClass("active"),s.find(".quiz__question-block").removeClass("active")})}),$(".modal__form-lead--faq").submit(function(e){captcha=grecaptcha.getResponse(),e.preventDefault();var i=$(this),s=i.find(".required-input"),t=i.find(".required-phone"),a=i.find(".required-checkbox"),o=$("#recaptchaError");o.text("");var r=!0;t.each(function(){$(this).removeClass("error"),null===$(this).val().match(/[0-9]/g)?($(this).addClass("error"),r=!1):11!==$(this).val().match(/[0-9]/g).length&&($(this).addClass("error"),r=!1)}),s.each(function(){$(this).removeClass("error"),$(this).val().length<1&&($(this).addClass("error"),r=!1)}),a.each(function(){$(this).removeClass("error"),!1===$(this).is(":checked")&&($(this).addClass("error"),r=!1)}),captcha.length||(o.text('* Вы не прошли проверку "Я не робот"'),r=!1),!0===r&&$.post("send_faq.php",i.serialize(),function(e){i.closest(".modal__block").removeClass("active"),$("#modal-thank-you").addClass("active"),grecaptcha.reset(),e.success||$("#recaptchaError").text(e.errorMessage)})})});